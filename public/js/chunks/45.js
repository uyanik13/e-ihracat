(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{621:function(a,e,t){"use strict";t.r(e);var s=t(16),r=t.n(s),l=t(13),i=t.n(l),o={components:{vSelect:i.a},props:{data:{type:Object,required:!0}},data:function(){return{avatar:null,data_local:JSON.parse(r()(this.data)),statusOptions:[{label:"Active",value:1},{label:"Deactivated",value:0}],roleOptions:[{label:"Admin",value:"admin"},{label:"User",value:"user"},{label:"Staff",value:"staff"}]}},computed:{status_local:{get:function(){return{label:this.data_local.status,value:this.data_local.status}},set:function(a){this.data_local.status=a.value}},role_local:{get:function(){return{label:this.data_local.role,value:this.data_local.role}},set:function(a){this.data_local.role=a.value}},validateForm:function(){return!this.errors.any()}},methods:{save_changes:function(){var a=this;if(this.validateForm){var e={id:this.data.id,name:this.data.name,avatar:this.data_local.avatar,address:this.data.address,email:this.data.email,phone:this.data.phone,status:this.status_local.value,role:this.role_local.value};this.$store.dispatch("user/updateUser",e).then((function(e){a.$vs.notify({title:"Başarılı",text:"Değişiklikler Başarıyla Düzenlendi",iconPack:"feather",icon:"icon-success",color:"success"})})).catch((function(e){a.$vs.notify({title:"Hata",text:"Değişiklikler Kaydedilemedi.",iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))}},reset_data:function(){this.data_local=JSON.parse(r()(this.data))},update_avatar:function(a){var e=this;if(a.target.files&&a.target.files[0]){var t=new FileReader;t.onload=function(a){e.data_local.avatar=a.target.result,console.log("IMAGEURL",a.target.result)},t.readAsDataURL(a.target.files[0])}}}},n=t(0),c=Object(n.a)(o,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"user-edit-tab-info"}},[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"flex items-start flex-col sm:flex-row"},[t("img",{staticClass:"mr-8 rounded h-24 w-24",attrs:{src:a.data_local.avatar}}),a._v(" "),t("div",[t("p",{staticClass:"text-lg font-medium mb-2 mt-4 sm:mt-0"},[a._v(a._s(a.data.name))]),a._v(" "),t("input",{ref:"updateImgInput",staticClass:"hidden",attrs:{type:"file",accept:"image/*"},on:{change:a.update_avatar}}),a._v(" "),t("vs-button",{staticClass:"mr-4 sm:mb-0 mb-2",on:{click:function(e){return a.$refs.updateImgInput.click()}}},[a._v(a._s(a.$t("change_avatar")))]),a._v(" "),t("vs-button",{attrs:{type:"border",color:"danger"}},[a._v(a._s(a.$t("remove_avatar")))])],1)])])]),a._v(" "),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col md:w-1/2 w-full"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|alpha_spaces",expression:"'required|alpha_spaces'"}],staticClass:"w-full mt-4",attrs:{label:a.$t("name"),name:"name"},model:{value:a.data.name,callback:function(e){a.$set(a.data,"name",e)},expression:"data.name"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("name"),expression:"errors.has('name')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("name")))]),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"w-full mt-4",attrs:{label:a.$t("email"),type:"email",name:"email"},model:{value:a.data.email,callback:function(e){a.$set(a.data,"email",e)},expression:"data.email"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("email"),expression:"errors.has('email')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("email")))]),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:{regex:"^\\+?([0-9]+)$"},expression:"{regex: '^\\\\+?([0-9]+)$' }"}],staticClass:"w-full mt-4",attrs:{label:a.$t("Phone"),name:"phone"},model:{value:a.data.phone,callback:function(e){a.$set(a.data,"phone",e)},expression:"data.phone"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("phone"),expression:"errors.has('phone')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("phone")))])],1),a._v(" "),t("div",{staticClass:"vx-col md:w-1/2 w-full"},[t("div",{staticClass:"mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("Status")))]),a._v(" "),t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:!1,options:a.statusOptions,dir:a.$vs.rtl?"rtl":"ltr"},model:{value:a.status_local,callback:function(e){a.status_local=e},expression:"status_local"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("status"),expression:"errors.has('status')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("status")))])],1),a._v(" "),t("div",{staticClass:"mt-4"},[t("label",{staticClass:"vs-input--label"},[a._v(a._s(a.$t("Role")))]),a._v(" "),t("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{clearable:!1,options:a.roleOptions,dir:a.$vs.rtl?"rtl":"ltr"},model:{value:a.role_local,callback:function(e){a.role_local=e},expression:"role_local"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("role"),expression:"errors.has('role')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("role")))])],1),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"alpha_spaces",expression:"'alpha_spaces'"}],staticClass:"w-full mt-4",attrs:{label:a.$t("Address"),name:"address"},model:{value:a.data.address,callback:function(e){a.$set(a.data,"address",e)},expression:"data.address"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("address"),expression:"errors.has('address')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("address")))])],1)]),a._v(" "),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[t("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!a.validateForm},on:{click:a.save_changes}},[a._v(a._s(a.$t("Save")))])],1)])])])}),[],!1,null,null,null).exports,d=t(27),v=t.n(d),u=t(24),_=t.n(u),m=(t(38),{components:{vSelect:i.a,flatPickr:_.a},props:{data:{type:Object,required:!0}},data:function(){return{data_local:JSON.parse(r()(this.data)),currentUserData:{},old_password:"",new_password:"",confirm_new_password:"",langOptions:[{label:"English",value:"english"},{label:"Spanish",value:"spanish"},{label:"French",value:"french"},{label:"Russian",value:"russian"},{label:"German",value:"german"},{label:"Arabic",value:"arabic"},{label:"Sanskrit",value:"sanskrit"}]}},computed:{validateForm:function(){return!this.errors.any()&&""!=this.old_password&&""!=this.new_password&&""!=this.confirm_new_password}},methods:{save_changes:function(){var a=this;if(this.validateForm){var e={id:this.currentUserData.id,old_password:this.old_password,new_password:this.new_password,confirm_new_password:this.confirm_new_password};this.$store.dispatch("user/updateUser",e).then((function(e){a.$vs.loading.close(),e.data&&a.$vs.notify({title:"Success",text:"Password Successfully Changed",iconPack:"feather",icon:"icon-alert-circle",color:"success"})})).catch((function(e){a.$vs.loading.close(),a.$vs.notify({title:"Error",text:e.message,iconPack:"feather",icon:"icon-alert-circle",color:"danger"})}))}}},reset_data:function(){this.data_local=v()({},this.data)}}),p=Object(n.a)(m,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"user-edit-tab-info"}},[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full md:w-1/2"},[t("div",{staticClass:"flex items-end"},[t("feather-icon",{staticClass:"mr-2",attrs:{icon:"UserIcon",svgClasses:"w-5 h-5"}}),a._v(" "),t("span",{staticClass:"leading-none font-medium"},[a._v(a._s(a.$t("password_management")))])],1),a._v(" "),t("div",[t("vs-input",{staticClass:"w-full mb-base",attrs:{"label-placeholder":"Eski Şifre"},model:{value:a.old_password,callback:function(e){a.old_password=e},expression:"old_password"}}),a._v(" "),t("vs-input",{staticClass:"w-full mb-base",attrs:{"label-placeholder":"Yeni Şifre"},model:{value:a.new_password,callback:function(e){a.new_password=e},expression:"new_password"}}),a._v(" "),t("vs-input",{staticClass:"w-full mb-base",attrs:{"label-placeholder":"Yeni Şifre Onayı"},model:{value:a.confirm_new_password,callback:function(e){a.confirm_new_password=e},expression:"confirm_new_password"}})],1)])]),a._v(" "),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[t("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!a.validateForm},on:{click:a.save_changes}},[a._v(a._s(a.$t("Save")))])],1)])])])}),[],!1,null,null,null).exports,h={props:{data:{type:Object,required:!0}},data:function(){return{data_local:JSON.parse(r()(this.data))}},computed:{validateForm:function(){return!this.errors.any()}},methods:{save_changes:function(){this.validateForm},reset_data:function(){this.data_local=v()({},this.data)}}},f=Object(n.a)(h,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"user-edit-tab-info"}},[t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full md:w-1/2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol",expression:"'url:require_protocol'"}],staticClass:"w-full",attrs:{"icon-pack":"feather",icon:"icon-twitter",label:"Twitter","icon-no-border":"",name:"twitter"},model:{value:a.data_local.social_links.twitter,callback:function(e){a.$set(a.data_local.social_links,"twitter",e)},expression:"data_local.social_links.twitter"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("twitter"),expression:"errors.has('twitter')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("twitter")))]),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol",expression:"'url:require_protocol'"}],staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-facebook",label:"Facebook","icon-no-border":"",name:"facebook"},model:{value:a.data_local.social_links.facebook,callback:function(e){a.$set(a.data_local.social_links,"facebook",e)},expression:"data_local.social_links.facebook"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("facebook"),expression:"errors.has('facebook')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("facebook")))]),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol",expression:"'url:require_protocol'"}],staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-instagram",label:"Instagram","icon-no-border":"",name:"instagram"},model:{value:a.data_local.social_links.instagram,callback:function(e){a.$set(a.data_local.social_links,"instagram",e)},expression:"data_local.social_links.instagram"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("instagram"),expression:"errors.has('instagram')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("instagram")))])],1),a._v(" "),t("div",{staticClass:"vx-col w-full md:w-1/2"},[t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol",expression:"'url:require_protocol'"}],staticClass:"w-full mt-4 md:mt-0",attrs:{"icon-pack":"feather",icon:"icon-github",label:"GitHub","icon-no-border":"",name:"github"},model:{value:a.data_local.social_links.github,callback:function(e){a.$set(a.data_local.social_links,"github",e)},expression:"data_local.social_links.github"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("github"),expression:"errors.has('github')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("github")))]),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol",expression:"'url:require_protocol'"}],staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-codepen",label:"CodePen","icon-no-border":"",name:"codepen"},model:{value:a.data_local.social_links.codepen,callback:function(e){a.$set(a.data_local.social_links,"codepen",e)},expression:"data_local.social_links.codepen"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("codepen"),expression:"errors.has('codepen')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("codepen")))]),a._v(" "),t("vs-input",{directives:[{name:"validate",rawName:"v-validate",value:"url:require_protocol",expression:"'url:require_protocol'"}],staticClass:"w-full mt-4",attrs:{"icon-pack":"feather",icon:"icon-slack",label:"Slack","icon-no-border":"",name:"slack"},model:{value:a.data_local.social_links.slack,callback:function(e){a.$set(a.data_local.social_links,"slack",e)},expression:"data_local.social_links.slack"}}),a._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:a.errors.has("slack"),expression:"errors.has('slack')"}],staticClass:"text-danger text-sm"},[a._v(a._s(a.errors.first("slack")))])],1)]),a._v(" "),t("div",{staticClass:"vx-row"},[t("div",{staticClass:"vx-col w-full"},[t("div",{staticClass:"mt-8 flex flex-wrap items-center justify-end"},[t("vs-button",{staticClass:"ml-auto mt-2",attrs:{disabled:!a.validateForm},on:{click:a.save_changes}},[a._v("Save Changes")]),a._v(" "),t("vs-button",{staticClass:"ml-4 mt-2",attrs:{type:"border",color:"warning"},on:{click:a.reset_data}},[a._v("Reset")])],1)])])])}),[],!1,null,null,null).exports,w=t(30),b={components:{UserEditTabAccount:c,UserEditTabInformation:p,UserEditTabSocial:f},data:function(){return{user_data:null,user_not_found:!1,activeTab:0}},watch:{activeTab:function(){this.fetch_user_data(this.$route.params.userId)}},methods:{fetch_user_data:function(a){var e=this;this.$store.dispatch("userManagement/fetchUser",a).then((function(a){e.user_data=a.data})).catch((function(a){404!==a.response.status?console.error(a):e.user_not_found=!0}))}},created:function(){w.a.isRegistered||(this.$store.registerModule("userManagement",w.a),w.a.isRegistered=!0),this.fetch_user_data(this.$route.params.userId)}},x=Object(n.a)(b,(function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{attrs:{id:"page-user-edit"}},[t("vs-alert",{attrs:{color:"danger",title:"User Not Found",active:a.user_not_found},on:{"update:active":function(e){a.user_not_found=e}}},[t("span",[a._v("User record with id: "+a._s(a.$route.params.userId)+" not found. ")]),a._v(" "),t("span",[t("span",[a._v("Check ")]),t("router-link",{staticClass:"text-inherit underline",attrs:{to:{name:"page-user-list"}}},[a._v("All Users")])],1)]),a._v(" "),a.user_data?t("vx-card",[t("div",{staticClass:"tabs-container px-6 pt-6",attrs:{slot:"no-body"},slot:"no-body"},[t("vs-tabs",{staticClass:"tab-action-btn-fill-conatiner",model:{value:a.activeTab,callback:function(e){a.activeTab=e},expression:"activeTab"}},[t("vs-tab",{attrs:{label:a.$t("account_management"),"icon-pack":"feather",icon:"icon-user"}},[t("div",{staticClass:"tab-text"},[t("user-edit-tab-account",{staticClass:"mt-4",attrs:{data:a.user_data}})],1)]),a._v(" "),t("vs-tab",{attrs:{label:a.$t("password_management"),"icon-pack":"feather",icon:"icon-info"}},[t("div",{staticClass:"tab-text"},[t("user-edit-tab-information",{staticClass:"mt-4",attrs:{data:a.user_data}})],1)])],1)],1)]):a._e()],1)}),[],!1,null,null,null);e.default=x.exports}}]);